<cabecera></cabecera>
<div class="container">
  <h2 class="page-title">Historial de transacciones</h2>

  <!-- Filtros -->
  <div class="d-flex justify-content-between align-items-end my-4">
    <div class="d-flex flex-wrap gap-3">
      <!-- Selector de Fecha Inicio -->
      <div class="d-flex flex-column">
        <label for="fechaInicio">Fecha mínima:</label>
        <input type="date" id="fechaInicio" class="form-control" (change)="actualizarFechaInicio($event)">
      </div>

      <!-- Selector de Fecha Fin -->
      <div class="d-flex flex-column">
        <label for="fechaFin">Fecha máxima:</label>
        <input type="date" id="fechaFin" class="form-control" (change)="actualizarFechaFin($event)">
      </div>

      <!-- Cuadro de texto para Cantidad Mínima -->
      <div class="d-flex flex-column">
        <label for="cantidadMin">Cantidad mínima:</label>
        <div class="d-flex gap-2">
          <input id="cantidadMin" type="number" class="form-control" min="0" step="0.01" (input)="validarCantidad($event, 'min')" (keydown)="evitarCaracteresNoPermitidos($event)"  placeholder="Ingrese una cantidad mínima" />
          <button class="btn btn-sm btn-link align-self-end" (click)="borrarCantidadMin()">Borrar</button>
        </div>
      </div>

      <!-- Cuadro de texto para Cantidad Máxima -->
      <div class="d-flex flex-column">
        <label for="cantidadMax">Cantidad máxima:</label>
        <div class="d-flex gap-2">
          <input id="cantidadMax" type="number" class="form-control" min="0" step="0.01" (input)="validarCantidad($event, 'max')" (keydown)="evitarCaracteresNoPermitidos($event)"  placeholder="Ingrese una cantidad máxima" />
          <button class="btn btn-sm btn-link align-self-end" (click)="borrarCantidadMax()">Borrar</button>
        </div>
      </div>

      <!-- Botón de Filtrar alineado a la derecha -->
      <button class="action-button align-self-end ms-auto" (click)="filtrarTransacciones()">Filtrar</button>
    </div>
  </div>

  <!-- Tabla de transacciones -->
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Usuario</th>
        <th>Monto</th>
        <th>Moneda</th>
        <th>Coste Transacción</th>
        <th>Fecha</th>
        <th>Tipo</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let transaccion of transaccionesTabla">
        <td>{{ transaccion.nombre }}</td>
        <td>{{ transaccion.monto }}</td> <!-- Columna Monto -->
        <td>{{ transaccion.moneda }}</td> <!-- Columna Moneda -->
        <td>{{ transaccion.costeTransaccion || 'N/A' }}</td> <!-- Columna Coste Transacción -->
        <td>{{ transaccion.fecha }}</td>
        <td>{{ transaccion.tipo }}</td>
      </tr>
    </tbody>
  </table>
</div>
